<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="description" content="Dual N-Back - Geavanceerde Werkgeheugen Training">
  <title>Dual N-Back - MOCIA</title>

  <!-- Stylesheets -->
  <link rel="stylesheet" href="../../shared/styles/design-system.css">
  <link rel="stylesheet" href="../../shared/styles/components.css">
  <link rel="stylesheet" href="../../shared/styles/animations.css">
  <link rel="stylesheet" href="../../shared/styles/mobile-first.css">
  <link rel="stylesheet" href="../../shared/styles/mobile-optimizations.css">
  <link rel="stylesheet" href="dual-n-back.css">
</head>
<body>
  <!-- Skip to main content -->
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <!-- Navigation buttons (always visible) -->
  <div style="position: fixed; top: var(--spacing-md); left: var(--spacing-md); z-index: var(--z-elevated); display: flex; gap: var(--spacing-sm);">
    <button id="back-button" class="btn btn-secondary simple-screen__back-button">
      â† Terug
    </button>
    <button onclick="window.location.href='../../domains.html'" class="btn btn-secondary simple-screen__back-button" title="Terug naar hoofdmenu">ğŸ </button>
  </div>

  <!-- Main content -->
  <main id="main-content" class="dual-n-back-container">

    <!-- Exercise screen -->
    <div id="exercise-screen" class="screen screen-hidden" style="padding: var(--spacing-lg);">
      <!-- Minimal progress at top -->
      <div class="minimal-progress" id="progress-bar-container">
        <div class="minimal-progress__bar" id="progress-bar"></div>
      </div>

      <!-- Trial counter -->
      <div class="minimal-counter" id="trial-counter">Poging 1 van 25</div>

      <!-- N-Back level indicator (small) -->
      <div style="text-align: center; margin: var(--spacing-md) 0; font-size: var(--font-size-lg); color: var(--color-text-secondary);" id="n-level-indicator">
        2-Back
      </div>

      <!-- Grid container -->
      <div class="n-back-grid-container" style="margin: var(--spacing-xl) 0;">
        <div id="n-back-grid" class="n-back-grid">
          <!-- 9 cells will be generated by JavaScript -->
        </div>
      </div>

      <!-- Response buttons -->
      <div class="response-buttons" style="display: flex; flex-direction: column; gap: var(--spacing-md); margin-top: var(--spacing-xl);">
        <button id="position-button" class="btn btn-primary response-button btn-large" disabled style="min-height: 80px; font-size: var(--font-size-xl);">
          ğŸ“ Positie Match
        </button>
        <button id="sound-button" class="btn btn-primary response-button btn-large" disabled style="min-height: 80px; font-size: var(--font-size-xl);">
          ğŸ”Š Geluid Match
        </button>
      </div>
    </div>

    <!-- Screen 4: Block Results -->
    <div id="block-results-screen" class="screen center-content screen-hidden">
      <h2 style="font-size: var(--font-size-xl); margin-bottom: var(--spacing-md);">Blok <span id="completed-block-number">1</span> Klaar!</h2>

      <div class="score-display" id="block-accuracy">85%</div>
      <div class="score-label">Nauwkeurigheid</div>

      <div id="performance-feedback" style="font-size: var(--font-size-xl); margin: var(--spacing-xl) 0; text-align: center;"></div>

      <div id="difficulty-feedback" style="margin: var(--spacing-lg) 0; text-align: center; font-size: var(--font-size-lg);"></div>

      <div class="simple-screen__actions" style="margin-top: var(--spacing-xl);">
        <button id="continue-button" class="btn btn-success btn-large">Volgende â†’</button>
        <button id="end-early-button" class="btn btn-secondary">Stop Oefening</button>
      </div>
    </div>

    <!-- Screen 5: Break -->
    <div id="break-screen" class="screen center-content screen-hidden">
      <h2 style="font-size: var(--font-size-xxl);">â¸ï¸ Pauze</h2>
      <p style="font-size: var(--font-size-lg); color: var(--color-text-secondary); margin: var(--spacing-lg) 0;">
        Neem even rust
      </p>
      <div class="score-display" id="break-timer" style="color: var(--color-info);">30</div>
      <div class="score-label">seconden</div>
      <div class="simple-screen__actions" style="margin-top: var(--spacing-xl);">
        <button id="skip-break-button" class="btn btn-primary btn-large">Ga Verder â†’</button>
      </div>
    </div>

  </main>

  <!-- Load shared JavaScript modules -->
  <script src="../../shared/js/constants.js"></script>
  <script src="../../shared/js/audio-manager.js"></script>
  <script src="../../shared/js/data-tracker.js"></script>
  <script src="../../shared/js/difficulty-adapter.js"></script>
  <script src="../../shared/js/screen-manager.js"></script>
  <script src="../../shared/js/ui-components.js"></script>
  <script src="../../shared/utils/statistics.js"></script>
  <script src="../../shared/utils/validation.js"></script>

  <!-- Exercise JavaScript -->
  <script src="dual-n-back.js"></script>
</body>
</html>
